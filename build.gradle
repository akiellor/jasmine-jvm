apply plugin: 'idea'
apply plugin: 'java'

repositories {
  mavenCentral()
}

dependencies {
  compile 'org.javafunk.funk:funk-core:0.1.21'
  compile 'org.dynjs:dynjs:0.1.1'

  testCompile 'junit:junit-dep:4.11'
  testCompile 'org.easytesting:fest:1.0.16'
  testCompile 'org.mockito:mockito-all:1.9.5'
}

task(binscripts) {
    def dynjsBinScript = file("$buildDir/dynjs")
    dynjsBinScript.setExecutable(true, false)
    dynjsBinScript.write("""\
#!/bin/sh -e

java -cp ${configurations.compile.files.join(":")} org.dynjs.cli.Main \$@
""")
}
